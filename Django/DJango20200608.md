# TIL 2020-06-08

## 오늘 배운 내용

---

- relational

- ForeignKey를 알아보았다.

### ForeignKey

장고의 수많은 필드중 ForeignKey 가 존재하는데
이 필드는 모델을 가져올 수 있다. 모델을 가져오게 되면
그 모델에 관게되어 있는 자식 모델이 되는것이다.

```python

from django.db import models


class Question(models.Model):
    question_text = models.CharField(max_length=200)
    pub_date = models.DateTimeField('date published')


class Choice(models.Model):
    question = models.ForeignKey(Question, on_delete=models.CASCADE)
    choice_text = models.CharField(max_length=200)
    votes = models.IntegerField(default=0)

```

간단하 모델을 생성하고 모델의 필드중 question이 foreignkey를 가지는 변수이다.
이렇게 하고 해당 모델이 가지고 있는 자식 모델을 보려하면 아래와 같이 명령해보면 된다.



```python

from snippets.models import Question, Choice  
from django.utils import timezone

q = Question.objects.create(question_text='hello', pub_date=timezone.now())

q.save()

lang = Choice.objects.create(question=q, choice_text=Test)

q.choice_set.count()
```

q 변수에 Question 모델을 만들고 db에 저장을한다.  
lang 변수에는 Choice 모델을 만드는데 question에 할당하는 값은 위에서 만든 q 모델이다.

그다음 q모델을 갖는 Choice들을 확인하려면  
관계를 갖는 모델의 `choice_set.count()` 를 사용하면  
몇개의 모델이 q를 가지고 있는지 알 수 있다.  
이것 말고도 `filter` 나 `get` 으로 확인하는 여러가지 방법이 존재한다.